{"version":3,"sources":["webpack:///./src/app/pages/single-page/single-page.html","webpack:///./src/app/pages/single-page/single-page.module.ts","webpack:///./src/app/pages/single-page/single-page.scss","webpack:///./src/app/pages/single-page/single-page.ts"],"names":[],"mappings":"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","file":"pages-single-page-single-page-module.js","sourcesContent":["module.exports = \"<!-- Page Single Page -->\\r\\n<ion-header box-shadow>\\r\\n    <ion-toolbar>\\r\\n      <ion-buttons slot=\\\"start\\\">\\r\\n        <ion-menu-button defaultHref=\\\"/\\\"></ion-menu-button>\\r\\n      </ion-buttons>\\r\\n      <ion-title text-uppercase><img src=\\\"../assets/imgs/alebaaTitle.png\\\" alt=\\\"\\\" /></ion-title>\\r\\n    </ion-toolbar>\\r\\n</ion-header>\\r\\n<!-- Content -->\\r\\n<ion-content>\\r\\n  <ion-grid no-padding>\\r\\n    <ion-row no-padding>\\r\\n      <ion-col col-12 no-padding *ngIf=\\\"post\\\">\\r\\n        <!-- Header Images -->\\r\\n        <div no-post-image>\\r\\n          <div background-size id=\\\"elastic-header\\\" [hidden]=\\\"!post.image\\\"\\r\\n          [ngStyle]=\\\"{'background-image': 'url(' + post.image + ')'}\\\"></div>\\r\\n        </div>\\r\\n        <ion-card padding single-page box-shadow border-radius>\\r\\n          <ion-card-header class=\\\"ion-no-padding\\\">\\r\\n            <!-- Name Category -->\\r\\n            <span category class=\\\"ion-float-start\\\" border-radius>{{post.category}}</span>\\r\\n            <!-- Bookmark -->\\r\\n            <ion-button class=\\\"ion-float-end\\\" fill=\\\"clear\\\" bookMark float-end (click)=\\\"bookmark(post, $event)\\\" size=\\\"small\\\">\\r\\n              <ion-icon slot=\\\"icon-only\\\" icon-small name=\\\"ios-bookmark\\\" [ngClass]=\\\"{'active' : post.bookmark}\\\"></ion-icon>\\r\\n            </ion-button >\\r\\n            <!-- Share -->\\r\\n            <ion-button class=\\\"ion-float-end\\\" (click)=\\\"share(post, $event)\\\" float-end fill=\\\"clear\\\" size=\\\"small\\\">\\r\\n              <ion-icon slot=\\\"icon-only\\\" icon-small  name=\\\"share\\\" ></ion-icon>\\r\\n            </ion-button>\\r\\n            <div clearfix></div>\\r\\n            <!--- Title Post -->\\r\\n            <h1 text-size-lg [innerHTML]=\\\"htmlTitle\\\"></h1>\\r\\n            <ion-item no-padding lines=\\\"none\\\" transparent>\\r\\n              <!-- Time -->\\r\\n              <ion-chip slot=\\\"start\\\">\\r\\n                <ion-icon icon name=\\\"ios-stopwatch\\\"></ion-icon>\\r\\n                <ion-label text-size-p class=\\\"ion-margin-end\\\">{{post.time | date:'d MMMM yyyy'}}</ion-label>\\r\\n              </ion-chip>\\r\\n              <!-- Commnets -->\\r\\n              <ion-chip (click)=\\\"openCommentList(post, $event)\\\">\\r\\n                <ion-icon icon name=\\\"ios-chatbubbles\\\"></ion-icon>\\r\\n                <ion-label text-size-p>التعليقات</ion-label>\\r\\n              </ion-chip>\\r\\n            </ion-item>\\r\\n          </ion-card-header>\\r\\n          <!-- Content -->\\r\\n          <ion-card-content class=\\\"ion-no-padding\\\">\\r\\n            <!--- Content with web site-->\\r\\n            <div [innerHTML]=\\\"htmlContent\\\"></div>\\r\\n          </ion-card-content>\\r\\n        </ion-card>\\r\\n        <news-list [categoryId]=\\\"post.categoryId\\\" [postId]=\\\"post.id\\\" [title]=\\\"\\\" (onItemClick)=\\\"onItemClick($event)\\\"></news-list>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n</ion-content>\\r\\n<ion-footer>\\r\\n  <ion-toolbar>\\r\\n    <!-- Wtite a comment-->\\r\\n    <ion-button expand=\\\"full\\\" default-button (click)=\\\"openComment(post, $event)\\\">كتابة تعليق</ion-button>\\r\\n  </ion-toolbar>\\r\\n</ion-footer>\\r\\n\"","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { RouterModule } from '@angular/router';\r\nimport { SharedModule } from './../../components/shared.module';\r\nimport { SinglePage } from './single-page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SharedModule,\r\n    RouterModule.forChild([\r\n      {\r\n        path: '',\r\n        component: SinglePage\r\n      }\r\n    ])\r\n  ],\r\n  declarations: [SinglePage],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\nexport class SinglePageModule { }\r\n","module.exports = \":host-context(single-page) [background-size] {\\n  height: 250px; }\\n\\n:host-context(single-page) ion-card {\\n  --background: var(--alebaa-backgroundColor, #fafafa);\\n  margin-top: -20px; }\\n\\n:host-context(single-page) ion-card [category] {\\n    top: 8px;\\n    left: 0; }\\n\\n:host-context(single-page) a {\\n  color: red; }\\n\\n:host-context(single-page) i {\\n  font-style: italic;\\n  color: var(--alebaa-light, #09292e); }\\n\\n:host-context(single-page) b {\\n  font-style: bold !important;\\n  color: var(--alebaa-light, #09292e); }\\n\\n:host-context(single-page) h2,\\n:host-context(single-page) h3,\\n:host-context(single-page) h4,\\n:host-context(single-page) h5,\\n:host-context(single-page) h6 {\\n  color: var(--alebaa-light, #09292e) !important; }\\n\\n:host-context(single-page) p {\\n  color: var(--alebaa-light, #09292e) !important;\\n  font-size: 14px !important;\\n  line-height: 16px !important;\\n  margin: 10px 0 !important; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvc2luZ2xlLXBhZ2UvRTpcXEluZm9cXFByb2plY3RzXFxBbC1FYmFhXFxBcHBcXGFsZWJhYS50di9zcmNcXGFwcFxccGFnZXNcXHNpbmdsZS1wYWdlXFxzaW5nbGUtcGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBRUksYUFBYSxFQUFBOztBQUZqQjtFQU1JLG9EQUFhO0VBQ2IsaUJBQWlCLEVBQUE7O0FBUHJCO0lBVU0sUUFBUTtJQUNSLE9BQU8sRUFBQTs7QUFYYjtFQWdCSSxVQUFVLEVBQUE7O0FBaEJkO0VBb0JJLGtCQUFrQjtFQUNsQixtQ0FBbUMsRUFBQTs7QUFyQnZDO0VBeUJJLDJCQUEyQjtFQUMzQixtQ0FBbUMsRUFBQTs7QUExQnZDOzs7OztFQWtDSSw4Q0FBOEMsRUFBQTs7QUFsQ2xEO0VBc0NJLDhDQUE4QztFQUM5QywwQkFBMEI7RUFDMUIsNEJBQTRCO0VBQzVCLHlCQUF5QixFQUFBIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvc2luZ2xlLXBhZ2Uvc2luZ2xlLXBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0LWNvbnRleHQoc2luZ2xlLXBhZ2UpIHtcclxuICBbYmFja2dyb3VuZC1zaXplXSB7XHJcbiAgICBoZWlnaHQ6IDI1MHB4O1xyXG4gIH1cclxuXHJcbiAgaW9uLWNhcmQge1xyXG4gICAgLS1iYWNrZ3JvdW5kOiB2YXIoLS1hbGViYWEtYmFja2dyb3VuZENvbG9yLCAjZmFmYWZhKTtcclxuICAgIG1hcmdpbi10b3A6IC0yMHB4O1xyXG5cclxuICAgIFtjYXRlZ29yeV0ge1xyXG4gICAgICB0b3A6IDhweDtcclxuICAgICAgbGVmdDogMDtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGEge1xyXG4gICAgY29sb3I6IHJlZDtcclxuICB9XHJcblxyXG4gIGkge1xyXG4gICAgZm9udC1zdHlsZTogaXRhbGljO1xyXG4gICAgY29sb3I6IHZhcigtLWFsZWJhYS1saWdodCwgIzA5MjkyZSk7XHJcbiAgfVxyXG5cclxuICBiIHtcclxuICAgIGZvbnQtc3R5bGU6IGJvbGQgIWltcG9ydGFudDtcclxuICAgIGNvbG9yOiB2YXIoLS1hbGViYWEtbGlnaHQsICMwOTI5MmUpO1xyXG4gIH1cclxuXHJcbiAgaDIsXHJcbiAgaDMsXHJcbiAgaDQsXHJcbiAgaDUsXHJcbiAgaDYge1xyXG4gICAgY29sb3I6IHZhcigtLWFsZWJhYS1saWdodCwgIzA5MjkyZSkgIWltcG9ydGFudDtcclxuICB9XHJcblxyXG4gIHAge1xyXG4gICAgY29sb3I6IHZhcigtLWFsZWJhYS1saWdodCwgIzA5MjkyZSkgIWltcG9ydGFudDtcclxuICAgIGZvbnQtc2l6ZTogMTRweCAhaW1wb3J0YW50O1xyXG4gICAgbGluZS1oZWlnaHQ6IDE2cHggIWltcG9ydGFudDtcclxuICAgIG1hcmdpbjogMTBweCAwICFpbXBvcnRhbnQ7XHJcbiAgfVxyXG5cclxufVxyXG4iXX0= */\"","import { Component, NgZone, ViewChild } from '@angular/core';\r\nimport { NavController, IonContent } from '@ionic/angular';\r\nimport { CommentService } from '../../services/comment.service';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\nimport { BookmarkService } from '../../services/bookmark.service';\r\nimport { ActivatedRoute, NavigationExtras } from '@angular/router';\r\nimport { ConfigData } from 'src/app/services/config';\r\n\r\nimport { SocialSharing } from '@ionic-native/social-sharing/ngx';\r\n\r\n@Component({\r\n  selector: 'single-page',\r\n  templateUrl: 'single-page.html',\r\n  styleUrls: ['single-page.scss'],\r\n  providers: [CommentService, BookmarkService]\r\n})\r\nexport class SinglePage {\r\n  active: boolean;\r\n  numberOfComment: Number = 0;\r\n  post: any;\r\n  htmlContent: any;\r\n  htmlTitle:any;\r\n  @ViewChild(IonContent) content: IonContent;\r\n\r\n  constructor(public navCtrl: NavController,\r\n    private _ngZone: NgZone,\r\n    private route: ActivatedRoute,\r\n    private domSanitizer: DomSanitizer,\r\n    private commentService: CommentService,\r\n    private socialSharing: SocialSharing,\r\n    private bookmarkService: BookmarkService) {\r\n    let self = this;\r\n    this.route.queryParams.subscribe(params => {\r\n      self.post = JSON.parse(params['item']);\r\n      if (self.post && self.post.content) {\r\n        self.htmlContent = self.domSanitizer.bypassSecurityTrustHtml(self.post.content)\r\n      }\r\n\r\n      if (this.post && this.post.title) {\r\n        self.htmlTitle = this.domSanitizer.bypassSecurityTrustHtml(this.post.title);\r\n      }\r\n\r\n      self.commentService\r\n        .getAllCommentsForPostById(self.post.id, 1)\r\n        .subscribe((comments: Array<any>) => {\r\n          self.numberOfComment = comments.length;\r\n          self.post.comments = comments;\r\n        });\r\n    });\r\n    this.incrementPostCounter();\r\n  }\r\n\r\n  incrementPostCounter() {\r\n    let counter = 0;\r\n    if (localStorage.getItem('post-counter')) {\r\n      counter = parseInt(localStorage.getItem('post-counter'));\r\n    }\r\n    counter++;\r\n    localStorage.setItem('post-counter', counter + \"\");\r\n  }\r\n\r\n  openComment(item, event) {\r\n    if (event) {\r\n      event.stopPropagation();\r\n    }\r\n    const navigationExtras: NavigationExtras = {\r\n      queryParams: { postId: JSON.stringify(this.post.id) }\r\n    };\r\n    this.navCtrl.navigateForward(['/form-page'], navigationExtras);\r\n  }\r\n\r\n  openCommentList(item, e) {\r\n    if (e) {\r\n      e.stopPropagation();\r\n    }\r\n    const navigationExtras: NavigationExtras = {\r\n      queryParams: { item: JSON.stringify(item) }\r\n    };\r\n    this.navCtrl.navigateForward(['/comment-page'], navigationExtras);\r\n  }\r\n\r\n  isClassActive() {\r\n    return this.active;\r\n  }\r\n\r\n  setClassActive(newValue) {\r\n    if (this.active != newValue) {\r\n      this._ngZone.run(() => {\r\n        this.active = newValue;\r\n      });\r\n    }\r\n  }\r\n\r\n  share= (item, e) => {\r\n    this.socialSharing.shareViaFacebook(item.title, \"\", item.link)\r\n    .then(() => {\r\n\r\n    }).catch(() => {\r\n\r\n    });\r\n  }\r\n\r\n  bookmark = (item, e) => {\r\n    if (e) {\r\n      e.stopPropagation();\r\n    }\r\n    if (item.bookmark) {\r\n      item.bookmark = false;\r\n      this.bookmarkService.delete(item);\r\n    } else {\r\n      item.bookmark = true;\r\n      this.bookmarkService.save(item);\r\n    }\r\n  }\r\n\r\n  onItemClick(item) {\r\n    this.content.scrollToTop(200)\r\n  }\r\n\r\n  ionViewDidLeave() {\r\n    Array\r\n     .prototype.slice\r\n     .call(document.getElementsByTagName('video'))\r\n     .forEach(video => video.pause());\r\n }\r\n\r\n  subscribeToIonScroll() { }\r\n}\r\n"],"sourceRoot":""}