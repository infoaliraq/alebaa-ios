{"version":3,"sources":["webpack:///./src/app/pages/settings/settings.html","webpack:///./src/app/pages/settings/settings.module.ts","webpack:///./src/app/pages/settings/settings.scss","webpack:///./src/app/pages/settings/settings.ts","webpack:///./src/app/services/theme.service.ts"],"names":[],"mappings":"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","file":"pages-settings-settings-module.js","sourcesContent":["module.exports = \"<!-- Page Form-->\\r\\n<ion-header box-shadow>\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-menu-button defaultHref=\\\"/\\\"></ion-menu-button>\\r\\n    </ion-buttons>\\r\\n    <ion-title text-uppercase><img src=\\\"../assets/imgs/alebaaTitle.png\\\" alt=\\\"\\\" /></ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n<!-- Content -->\\r\\n<ion-content>\\r\\n  <ion-grid>\\r\\n    <ion-row>\\r\\n      <ion-col size=\\\"12\\\">\\r\\n        <ion-item transparent>\\r\\n          <ion-lable text-size-xs>تفعيل الاشعارات</ion-lable>\\r\\n          <ion-checkbox checkbox slot=\\\"end\\\" [(ngModel)]=\\\"isPushNotificationEnabled\\\" (ionChange)=\\\"ionChange($event)\\\"></ion-checkbox>\\r\\n        </ion-item>\\r\\n\\r\\n        <ion-button default-button margin (click)=\\\"changeTheme('autumn')\\\">فاتح</ion-button>\\r\\n        <ion-button default-button margin (click)=\\\"changeTheme('night')\\\">غامق</ion-button>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n</ion-content>\\r\\n\"","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { IonicModule } from '@ionic/angular';\r\nimport { RouterModule } from '@angular/router';\r\nimport { SharedModule } from './../../components/shared.module';\r\nimport { SettingsPage } from './settings';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SharedModule,\r\n    RouterModule.forChild([\r\n      {\r\n        path: '',\r\n        component: SettingsPage\r\n      }\r\n    ])\r\n  ],\r\n  declarations: [SettingsPage],\r\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\r\n})\r\nexport class SettingsPageModule { }","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3NldHRpbmdzL3NldHRpbmdzLnNjc3MifQ== */\"","import { OneSignalConfig } from './../../services/one.signal.service';\r\nimport { Component } from '@angular/core';\r\nimport { OneSignal } from '@ionic-native/onesignal/ngx';\r\nimport { File } from '@ionic-native/file/ngx';\r\nimport { ThemeService } from '../../services/theme.service';\r\n\r\n@Component({\r\n  selector: 'settings',\r\n  templateUrl: 'settings.html',\r\n  styleUrls: ['settings.scss']\r\n})\r\nexport class SettingsPage {\r\n\r\n  themes = {\r\n    autumn: {\r\n      primary: \"#ffffff\",\r\n      secondary: \"#fafafa\",\r\n      danger: \"#0c896c\",\r\n      light: \"#09292e\",\r\n      sliderColor: \"#fff\",\r\n      colorIcon: \"#CCCBDA\",\r\n      colorIconText: \"#7F7E96\",\r\n      category: \"#fff\",\r\n      listBackgroundColor: \"#ffffff\",\r\n      backgroundColor: \"#fafafa\",\r\n      toobarBackground: \"#ffffff\",\r\n      toobarButton: \"#AAB2B7\",\r\n      toobarText: \"#FFFFFF\"\r\n    },\r\n    night: {\r\n       primary: \"#282C39\",\r\n       secondary: \"#09292e\",\r\n       danger: \"#0c896c\",\r\n       sliderColor: \"#ffffff\",\r\n       light: \"#ffffff\",\r\n       colorIcon: \"#375c54\",\r\n       colorIconText: \"#375c54\",\r\n       category: \"#ffffff\",\r\n       listBackgroundColor: \"#09292e\",\r\n       backgroundColor: \"#03353a\",\r\n       toobarBackground: \"#09292e\",\r\n       toobarButton: \"#D8D8D8\",\r\n       toobarText: \"#FFFFFF\",\r\n    }\r\n  };\r\n\r\n\r\n  isLightColorSelected:Boolean = true;\r\n  isPushNotificationEnabled:boolean = true;\r\n  isRTLEnabled:Boolean = true;\r\n\r\n  constructor(private oneSignal: OneSignal, private file:File, private theme: ThemeService) {\r\n    this.isPushNotificationEnabled = localStorage.getItem('isPushNotificationEnabled') == \"true\";\r\n    this.isLightColorSelected = localStorage.getItem('isLightColorSelected') == \"true\";\r\n    this.isRTLEnabled = localStorage.getItem('isRTLEnabled') == \"true\";\r\n  }\r\n\r\n  changeTheme(name) {\r\n    this.theme.setTheme(this.themes[name]);\r\n  }\r\n\r\n  ionChangeSelectedTheme(e){\r\n    localStorage.setItem('isLightColorSelected', this.isLightColorSelected + \"\");\r\n    this.writeToFile();\r\n    let theme = this.isLightColorSelected ? \"colorLight\" : \"colorDark\";\r\n    document.getElementsByTagName(\"body\")[0].setAttribute(\"class\", theme);\r\n  }\r\n\r\n  //Enable/Disable push notification OneSignal\r\n  ionChange(e){\r\n    this.oneSignal.setSubscription(this.isPushNotificationEnabled);\r\n    localStorage.setItem('isPushNotificationEnabled', \"\" + this.isPushNotificationEnabled);\r\n    this.writeToFile();\r\n    if(this.isPushNotificationEnabled) {\r\n      this.oneSignal.inFocusDisplaying(this.oneSignal.OSInFocusDisplayOption.Notification);\r\n    } else {\r\n      this.oneSignal.inFocusDisplaying(this.oneSignal.OSInFocusDisplayOption.None);\r\n    }\r\n    this.oneSignal.endInit();\r\n  }\r\n\r\n  ionChangeRTL(e){\r\n      localStorage.setItem('isRTLEnabled', \"\" + this.isRTLEnabled)\r\n      document.getElementsByTagName('ion-menu')[0]\r\n              .setAttribute('side', this.isRTLEnabled  ? 'end': 'start');\r\n      document.getElementsByTagName('html')[0]\r\n              .setAttribute('dir', this.isRTLEnabled  ? 'rtl': 'ltr');\r\n  }\r\n\r\n  getSettingsObject() {\r\n    let result = {\r\n        'bookmark': localStorage.getItem('bookmark'),\r\n        'isPushNotificationEnabled': localStorage.getItem('isPushNotificationEnabled'),\r\n        'isLightColorSelected': localStorage.getItem('isLightColorSelected'),\r\n        'isRTLEnabled': localStorage.getItem('isRTLEnabled'),\r\n    };\r\n    return JSON.stringify(result);\r\n  }\r\n\r\n  writeToFile() {\r\n    this.file.writeFile(this.file.externalRootDirectory, 'settings.json', this.getSettingsObject(), {replace: true});\r\n  }\r\n\r\n  readFromFile() {\r\n      return this.file.readAsText(this.file.externalRootDirectory, 'settings.json');\r\n  }\r\n}\r\n","import { Injectable, Inject } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\nimport * as Color from 'color';\nimport { Storage } from '@ionic/storage';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ThemeService {\n  constructor(\n    @Inject(DOCUMENT) private document: Document,\n    private storage: Storage\n  ) {\n    storage.get('theme').then(cssText => {\n      this.setGlobalCSS(cssText);\n    });\n  }\n\n  // Override all global variables with a new theme\n  setTheme(theme) {\n    const cssText = CSSTextGenerator(theme);\n    this.setGlobalCSS(cssText);\n    this.storage.set('theme', cssText);\n  }\n\n  // Define a single CSS variable\n  setVariable(name, value) {\n    this.document.documentElement.style.setProperty(name, value);\n  }\n\n  private setGlobalCSS(css: string) {\n    this.document.documentElement.style.cssText = css;\n  }\n\n  get storedTheme() {\n    return this.storage.get('theme');\n  }\n}\n\nconst defaults = {\n  primary: \"#ffffff\",\n  secondary: \"#fafafa\",\n  danger: \"#0c896c\",\n  light: \"#09292e\",\n  sliderColor: \"#ffffff\",\n  colorIcon: \"#CCCBDA\",\n  colorIconText: \"#7F7E96\",\n  category: \"#ffffff\",\n  listBackgroundColor: \"#ffffff\",\n  backgroundColor: \"#fafafa\",\n  toobarBackground: \"#09292e\",\n  toobarButton: \"#AAB2B7\",\n  toobarText: \"#FFFFFF\"\n};\n\nfunction CSSTextGenerator(colors) {\n  colors = { ...defaults, ...colors };\n\n  const {\n    primary,\n    secondary,\n    danger,\n    light,\n    sliderColor,\n    colorIcon,\n    colorIconText,\n    category,\n    listBackgroundColor,\n    backgroundColor,\n    toobarBackground,\n    toobarButton,\n    toobarText\n  } = colors;\n\n  return `\n    --alebaa-primary: ${primary};\n    --alebaa-secondary: ${secondary};\n    --alebaa-danger: ${danger};\n    --alebaa-light: ${light};\n    --alebaa-sliderColor: ${sliderColor};\n    --alebaa-colorIcon: ${colorIcon};\n    --alebaa-colorIconText: ${colorIconText};\n    --alebaa-category: ${category};\n    --alebaa-listBackgroundColor: ${listBackgroundColor};\n    --alebaa-backgroundColor: ${backgroundColor};\n    --alebaa-toobarBackground: ${toobarBackground};\n    --alebaa-toobarButton: ${toobarButton};\n    --alebaa-toobarText: ${toobarText};\n  `\n}\n"],"sourceRoot":""}